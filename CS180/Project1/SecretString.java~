// NEEDS HEADER

public class SecretString
{
    private boolean[] bits;
    
    public SecretString(int[] data)
    {  
        bits = convertToBits(data);
    }
    
    public SecretString(byte[] data)
    {
        bits = convertToBits(data);
    }
    
    /** 
     * converts an array of integers into an array of booleans
     */    
    private static boolean[] convertToBits(int[] array)
    {
        int length = array.length;
        boolean [] booleanArray = new boolean[32*length];
        String binaryString = "";
        String tempBinary = "";
        
        // converts integer array into a binary String array
        for (int index = 0; index < length; index++)
        {
            tempBinary = Integer.toBinaryString(array[index]);

            // pads the string wit 0s to get 32 values
            while (tempBinary.length() != 32)
            {
                tempBinary = "0" + tempBinary;
            }
            
            // concates each binary representation to for one String
            binaryString = binaryString + tempBinary;
        }
        
        // converts each value in the string to true or false
        for (int index = 0; index < 32*length; index++)
        {
            if (binaryString.charAt(index) == '1')
                booleanArray[index] = true;
            else
                booleanArray[index] = false;
        }
        
        return booleanArray;
    }    
    
    /** 
     * converts an array of bytes into an array of booleans
     */    
    private static boolean[] convertToBits(byte[] array)
    {
        int length = array.length;
        int convertedByte = 0; // byte converted
        boolean [] booleanArray = new boolean[8*length];
        String binaryString = "";
        String tempBinary = "";
        
        // converts integer array into a binary String array
        for (int index = 0; index < length; index++)
        {
            convertedByte = (int) array[index];
            tempBinary = Integer.toBinaryString(array[index]);

            // pads the string wit 0s to get 8 values
            while (tempBinary.length() != 8)
            {
                tempBinary = "0" + tempBinary;
            }
            
            // concates each binary representation to for one String
            binaryString = binaryString + tempBinary;
        }
        
        // converts each value in the string to true or false
        for (int index = 0; index < length; index++)
        {
            if (binaryString.charAt(index) == '1')
                booleanArray[index] = true;
            else
                booleanArray[index] = false;
        }
        
        return booleanArray;
    }
    
    public char getCharAt(int index)
    {
        String booleanString = "";
        
        for (int i = (index*8); i < ((index*8) + 8) ; i++)
        {
            if (bits[i])
                booleanString += "1";
            else
                booleanString += "0";
        }        
        
        int number = Integer.parseInt(booleanString, 2);
        char character = ((char)number);
        
        return character;     
    }
    
    public int getLength()
    {
        int length = bits.length / 8;
        return length;
    }
}